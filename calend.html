<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="dark">
<title>Fixed Calendar</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
    /* تنظیمات ریشه‌ای برای حذف کامل رنگ سفید */
    :root {
        color-scheme: dark; /* پشتیبانی از دارک مود سیستم */
    }

    html, body {
        background-color: transparent !important; /* شفافیت اجباری */
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        overflow: hidden; /* حذف قطعی اسکرول */
        display: flex;
        justify-content: center;
        align-items: center;
    }

    /* استایل ویجت */
    .calendar-widget {
        width: 100%;
        max-width: 280px;
        /* رنگ پس‌زمینه کارت: دقیقاً رنگ خاکستری نوشن */
        background: #252525; 
        border-radius: 16px;
        /* پدینگ پایین حذف شد تا با هدر بالانس شود */
        padding-bottom: 15px;
        color: #efefef;
        user-select: none;
        /* بوردر خیلی خیلی محو برای اینکه با پس‌زمینه قاطی نشود */
        border: 1px solid rgba(255,255,255,0.08);
    }

    .header {
        /* هدر کمی روشن‌تر */
        background-color: #2f2f2f;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 15px;
        border-bottom: 1px solid rgba(255,255,255,0.05);
        margin-bottom: 10px;
        /* فقط گوشه‌های بالا گرد باشند */
        border-top-left-radius: 16px;
        border-top-right-radius: 16px;
    }

    .month-year-title {
        font-size: 14px;
        font-weight: 700;
        letter-spacing: 0.5px;
    }

    .nav-btn {
        background: transparent;
        border: none;
        color: #888;
        font-size: 18px;
        cursor: pointer;
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 4px;
        transition: 0.2s;
    }

    .nav-btn:hover {
        color: #fff;
        background: rgba(255,255,255,0.1);
    }

    .days-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 2px;
        padding: 0 10px;
    }

    .day-label {
        font-size: 10px;
        color: #666;
        font-weight: 600;
        text-align: center;
        margin-bottom: 5px;
        text-transform: uppercase;
    }

    .day-cell {
        height: 28px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 13px;
        border-radius: 6px;
        color: #aaa;
        cursor: default;
    }

    .day-cell.current-month {
        color: #eee;
    }

    .day-cell.today {
        background-color: #fff;
        color: #000;
        font-weight: 700;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    
    /* هاور فقط روی روزهای این ماه */
    .day-cell.current-month:hover:not(.today) {
        background-color: rgba(255,255,255,0.1);
    }

</style>
</head>
<body>

<div class="calendar-widget">
    <div class="header">
        <button class="nav-btn" id="prevBtn">‹</button>
        <div class="month-year-title" id="monthYearDisplay"></div>
        <button class="nav-btn" id="nextBtn">›</button>
    </div>
    
    <div class="days-grid" id="calendarGrid"></div>
</div>

<script>
    const monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    const dayLabels = ["S", "M", "T", "W", "T", "F", "S"];

    let displayedDate = new Date();

    function renderCalendar() {
        const year = displayedDate.getFullYear();
        const month = displayedDate.getMonth();
        
        document.getElementById('monthYearDisplay').innerText = `${monthNames[month]} ${year}`;
        const grid = document.getElementById('calendarGrid');
        grid.innerHTML = '';

        // Labels
        dayLabels.forEach(label => {
            const lbl = document.createElement('div');
            lbl.className = 'day-label';
            lbl.innerText = label;
            grid.appendChild(lbl);
        });

        const firstDayOfMonth = new Date(year, month, 1).getDay();
        const daysInCurrentMonth = new Date(year, month + 1, 0).getDate();
        const daysInPrevMonth = new Date(year, month, 0).getDate();
        const today = new Date();

        // Prev Month
        for (let i = firstDayOfMonth - 1; i >= 0; i--) {
            grid.appendChild(createDayCell(daysInPrevMonth - i, 'other-month'));
        }

        // Current Month
        for (let d = 1; d <= daysInCurrentMonth; d++) {
            const cell = createDayCell(d, 'current-month');
            if (d === today.getDate() && month === today.getMonth() && year === today.getFullYear()) {
                cell.classList.add('today');
            }
            grid.appendChild(cell);
        }

        // Next Month (Fill remaining)
        const totalCells = firstDayOfMonth + daysInCurrentMonth;
        const remaining = 42 - totalCells; // Standard 6 rows
        for (let d = 1; d <= remaining; d++) {
             grid.appendChild(createDayCell(d, 'other-month'));
        }
    }

    function createDayCell(num, type) {
        const div = document.createElement('div');
        div.className = `day-cell ${type}`;
        div.innerText = num;
        return div;
    }

    document.getElementById('prevBtn').addEventListener('click', () => { displayedDate.setMonth(displayedDate.getMonth() - 1); renderCalendar(); });
    document.getElementById('nextBtn').addEventListener('click', () => { displayedDate.setMonth(displayedDate.getMonth() + 1); renderCalendar(); });

    renderCalendar();
</script>

</body>
</html>
